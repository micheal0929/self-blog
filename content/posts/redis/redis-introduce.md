---
title: "Redis 新手入门(1)"
date: 2020-10-16T15:53:35+08:00
draft: true
---
## Redis基本概念

### Redis是一个用C语言编写的，高性能的内存数据库

### 优点

- 读写性能优异
- 支持数据持久化
- 支持事务
- 数据结构丰富
- 支持主从复制

### 缺点

- 容量受限
- 降低系统可用性
- 难支持在线扩容

## Redis数据结构

### Redis基础数据结构

- string字符串

  相比c字符串，sds具有以下优点：
  常熟复杂度获取字符串长度
  杜绝缓冲区溢出
  减少修改字符串长度时所需的内存重分配次数
  兼容部分c字符串函数

  扩容策略：长度小于1MB，扩容空间采用加倍策略；超过1MB，每次多分配1MB
  使用场景：数值（点赞、统计、限流）incr,decr
  bitmap使用：统计活跃用户，登录天数

- list列表

  使用链表实现，故插入和删除操作非常快O（1），索引数据很慢O（n）
  使用：右进左出：队列；右进右出：栈
  使用场景：常用来做异步队列。将需要延后处理的任务结构体序列化成字符串，塞进Redis列表，另一个线程从这个列表中轮询数据进行处理。
  ziplist和linkedlist

- hash字典

  使用链表法来解决hash冲突问题
  为了使负载因子维持在一个合理的范围，键值太多或太少时会进行相应的扩展或收缩
  在对哈希表进行扩展或收缩时，rehash的过程是渐进式的
  使用murmurhash2算法计算键的哈希值
  使用哈希表作为底层实现

- set集合

  底层使用intset或hash表

- zset有序集合

  底层使用ziplist或skiplist
